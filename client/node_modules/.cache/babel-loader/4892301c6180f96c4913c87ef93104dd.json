{"ast":null,"code":"import _classCallCheck from \"/Users/shannonline/Desktop/bookssearcher/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/shannonline/Desktop/bookssearcher/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/shannonline/Desktop/bookssearcher/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/shannonline/Desktop/bookssearcher/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/shannonline/Desktop/bookssearcher/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/shannonline/Desktop/bookssearcher/client/src/pages/SearchBooks.js\";\nimport React, { Component } from \"react\";\nimport API from \"../utils/API\";\nimport { Container } from \"../components/Grid\";\nimport Jumbotron from \"../components/Jumbotron\";\nimport SearchDiv from \"../components/SearchDiv\";\nimport SearchResults from \"../components/SearchResults\"; //https://www.googleapis.com/books/v1/volumes?q=Potter\n//https://developers.google.com/books/docs/v1/getting_started\n//https://www.googleapis.com/books/v1/{collectionName}/resourceID?parameters\n//https://www.googleapis.com/books/v1/volumes?q=Potter&fields=items(title,authors,description)\n//https://www.googleapis.com/books/v1/volumes?q=Potter&fields=items/volumeInfo(title,authors,description,imageLinks,previewLink,infoLink)\n\nvar SearchBooks =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SearchBooks, _Component);\n\n  function SearchBooks() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SearchBooks);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SearchBooks)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      search: \"\",\n      results: [],\n      error: \"\"\n    };\n\n    _this.searchBooks = function (event) {\n      event.preventDefault();\n      var searchTerm = document.getElementById(\"searchbar\").value;\n      API.getGoogleBookSearch(searchTerm).then(function (res) {\n        var results = res.data.items;\n        results = results.map(function (result) {\n          var book = {\n            id: result.id,\n            title: result.volumeInfo.title,\n            authors: result.volumeInfo.authors,\n            image: result.volumeInfo.imageLinks.thumbnail,\n            description: result.volumeInfo.description,\n            link: result.volumeInfo.infoLink\n          };\n          return book;\n        });\n\n        _this.setState({\n          results: results\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.saveBook = function (event) {\n      event.preventDefault();\n\n      var bookSaveChoice = _this.state.results.filter(function (book) {\n        return book.id === event.target.id;\n      });\n\n      bookSaveChoice = bookSaveChoice[0];\n      API.saveBook(bookSaveChoice).then(console.log(bookSaveChoice)).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(SearchBooks, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Container, {\n        fluid: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(Jumbotron, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"text-white\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \"React Google Book Search\"), React.createElement(\"h2\", {\n        className: \"text-white\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"Search for & Save Books of Interst\")), React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(SearchDiv, {\n        searchBooks: this.searchBooks,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }), React.createElement(SearchResults, {\n        results: this.state.results,\n        saveBook: this.saveBook,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return SearchBooks;\n}(Component);\n\nexport default SearchBooks;","map":{"version":3,"sources":["/Users/shannonline/Desktop/bookssearcher/client/src/pages/SearchBooks.js"],"names":["React","Component","API","Container","Jumbotron","SearchDiv","SearchResults","SearchBooks","state","search","results","error","searchBooks","event","preventDefault","searchTerm","document","getElementById","value","getGoogleBookSearch","then","res","data","items","map","result","book","id","title","volumeInfo","authors","image","imageLinks","thumbnail","description","link","infoLink","setState","catch","err","console","log","saveBook","bookSaveChoice","filter","target"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport API from \"../utils/API\";\nimport { Container } from \"../components/Grid\";\nimport Jumbotron from \"../components/Jumbotron\";\nimport SearchDiv from \"../components/SearchDiv\";\nimport SearchResults from \"../components/SearchResults\";\n\n//https://www.googleapis.com/books/v1/volumes?q=Potter\n//https://developers.google.com/books/docs/v1/getting_started\n//https://www.googleapis.com/books/v1/{collectionName}/resourceID?parameters\n//https://www.googleapis.com/books/v1/volumes?q=Potter&fields=items(title,authors,description)\n\n//https://www.googleapis.com/books/v1/volumes?q=Potter&fields=items/volumeInfo(title,authors,description,imageLinks,previewLink,infoLink)\n\n\n\nclass SearchBooks extends Component {\n  state = {\n    search: \"\",\n    results: [],\n    error: \"\"\n  };\n\n\n\n  searchBooks = (event) => {\n    event.preventDefault();\n    let searchTerm = document.getElementById(\"searchbar\").value;\n    API.getGoogleBookSearch(searchTerm).then((res) => {\n      let results = res.data.items;\n      results = results.map((result) => {\n        let book = {\n          id: result.id,\n          title: result.volumeInfo.title,\n          authors: result.volumeInfo.authors,\n          image: result.volumeInfo.imageLinks.thumbnail,\n          description: result.volumeInfo.description,\n          link: result.volumeInfo.infoLink\n        };\n        return book;\n      });\n      this.setState({ results: results });\n    }).catch(err => console.log(err));\n  };\n\n  saveBook = (event) => {\n    event.preventDefault();\n    let bookSaveChoice = this.state.results.filter((book) => (book.id === event.target.id));\n    bookSaveChoice = bookSaveChoice[0];\n    API.saveBook(bookSaveChoice)\n      .then(console.log(bookSaveChoice))\n      .catch(err => console.log(err));\n  };\n\n  render() {\n    return (\n      <Container fluid>\n        <Jumbotron>\n          <h1 className=\"text-white\">React Google Book Search</h1>\n          <h2 className=\"text-white\">Search for &amp; Save Books of Interst</h2>\n        </Jumbotron>\n        <Container>\n          <SearchDiv searchBooks={this.searchBooks} />\n          <SearchResults results={this.state.results} saveBook={this.saveBook} />\n        </Container>\n      </Container>\n    );\n  }\n}\n\nexport default SearchBooks;"]},"metadata":{},"sourceType":"module"}